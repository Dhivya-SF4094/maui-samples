<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="SafeAreaDemos.Views.Example2RespectAll"
             SafeAreaEdges="All"
             Shell.NavBarIsVisible="False"
             Background="Gray"
             Title="Respect All Safe Areas">

       <Grid RowDefinitions="Auto,Auto,*,Auto"
             Padding="30"
             Background="SkyBlue"
             RowSpacing="20">
              <HorizontalStackLayout Grid.Row="0"
                                     Spacing="20">
                     <Label
                            Text="Respect All Safe Areas"
                            FontSize="28"
                            FontAttributes="Bold"/>
                     <Button Text="&#x2039;"
                             BackgroundColor="#0078D4"
                             FontFamily="OpenSansSemibold"
                             FontSize="40"
                             Padding="-5,-10,0,0"
                             WidthRequest="50"
                             HeightRequest="50"
                             CornerRadius="25"
                             Clicked="Button_Clicked"/>
              </HorizontalStackLayout>

              <Label Grid.Row="1"
                     Text="SafeAreaEdges='All' Content respect all safe area insets (Status bars, notches, home indicators, keyboard)."
                     FontSize="18"
                     LineBreakMode="WordWrap"/>
              <Grid Grid.Row="2"
                    RowDefinitions="*,Auto">
                     <!-- Chat messages area using CollectionView -->
                     <CollectionView x:Name="MessagesCollectionView"
                                     Grid.Row="0"
                                     ItemsSource="{Binding Messages}"
                                     VerticalOptions="Fill">
                            <CollectionView.ItemTemplate>
                                   <DataTemplate>
                                          <Border BackgroundColor="{Binding BackgroundColor}"
                                                  Padding="12"
                                                  StrokeThickness="0"
                                                  HorizontalOptions="{Binding HorizontalAlignment}"
                                                  MaximumWidthRequest="250"
                                                  Margin="10,5">
                                                 <Border.StrokeShape>
                                                        <RoundRectangle CornerRadius="{Binding CornerRadius}"/>
                                                 </Border.StrokeShape>
                                                 <Label Text="{Binding Text}"
                                                        FontSize="14"/>
                                          </Border>
                                   </DataTemplate>
                            </CollectionView.ItemTemplate>
                     </CollectionView>

                     <!-- Message input area -->
                     <Grid Grid.Row="1"
                           ColumnDefinitions="*,Auto"
                           Padding="10"
                           ColumnSpacing="10">
                            <Entry x:Name="MessageEntry"
                                   Grid.Column="0"
                                   PlaceholderColor="Black"
                                   Placeholder="Type a message..."
                                   FontSize="16"
                                   VerticalOptions="Center"/>
                            <ImageButton Grid.Column="1"
                                         Source="send.png"
                                         BackgroundColor="#0078D4"
                                         WidthRequest="50"
                                         HeightRequest="50"
                                         CornerRadius="25"
                                         Padding="12"
                                         Clicked="OnSendButtonClicked"
                                         VerticalOptions="Center"/>
                     </Grid>
              </Grid>
       </Grid>
</ContentPage>
